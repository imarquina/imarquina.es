var typesHash=new Hashtable,dataXml;$(window).ready(function(){View.General.initialize();var e=Database.Photos.load();if(typesHash=Controller.Photos.load(e),dataXml=Database.Config.load(),document.URL.toLowerCase().indexOf("banner.html")>0)View.Index.bannerSet(dataXml);else if(View.General.menuSet(dataXml),View.General.sloganSet(dataXml),document.URL.toLowerCase().indexOf("sequence.html")>0){var a=Comun.queryStringParamGet("gallery");if(Comun.queryStringParamValue(a))View.Detail.gallerySet(dataXml,a,Comun.queryStringParamGet("news"));else{var t=Comun.queryStringParamGet("news");Comun.queryStringParamValue(t)&&View.Detail.newsSet(dataXml,t,t)}}else if(document.URL.toLowerCase().indexOf("detail.html")>0){var a=Comun.queryStringParamGet("gallery");if(Comun.queryStringParamValue(a))View.Detail.imageSet(dataXml,a,Comun.queryStringParamGet("news"),Comun.queryStringParamGet("photo"));else{var t=Comun.queryStringParamGet("news");Comun.queryStringParamValue(t)&&View.Detail.imageNewSet(dataXml,t,Comun.queryStringParamGet("photo"))}}else{var a=Comun.queryStringParamGet("gallery");if(Comun.queryStringParamValue(a))View.Index.gallerySet(dataXml,a,Comun.queryStringParamGet("news"));else{var n=Comun.queryStringParamGet("folder");if(Comun.queryStringParamValue(n))View.Index.folderSet(dataXml,n,Comun.queryStringParamGet("news"));else{var o=Comun.queryStringParamGet("multimedia");if(Comun.queryStringParamValue(o))View.Index.multimediaSet(dataXml,o,Comun.queryStringParamGet("news"));else{var t=Comun.queryStringParamGet("news");Comun.queryStringParamValue(t)?View.Index.newsSet(dataXml,t):(View.Index.lastCargar(dataXml),View.Index.homeSet(dataXml))}}}}}),$(function(){var e=$(window),a=20;e.scroll(function(){e.scrollTop()<=a?$(".bar-goHead").addClass("hidden"):$(".bar-goHead").removeClass("hidden")}),$(function(){$('[data-toggle="popover"]').popover()})});var View={General:function(){var e=function(e,a,t,n){var o;return o=void 0!=t?e.toLowerCase()==Localization.Culture.getResource("menu.masNuevo").toLowerCase()?1==n?"<li class='breadcrumb-item'><a href='./index.html?news="+t+"'>"+Localization.Culture.getResource("menu.masNuevo")+"</a></li>":"<li class='breadcrumb-item active'>"+e+"</li>":1==n?"<li class='breadcrumb-item'><a href='./index.html?"+e+"="+Comun.htmlReplace(a)+"&news="+t+"'>"+a+"</a></li>":"<li class='breadcrumb-item active'>"+a+"</li>":1==n?"<li class='breadcrumb-item'><a href='./index.html?"+e+"="+Comun.htmlReplace(a)+"'>"+a+"</a></li>":"<li class='breadcrumb-item active'>"+a+"</li>"};return General={initialize:function(){lity();1==App.Config.developer&&$("#lnkstyledev").attr("href","./css/im.developer.css"),View.General.pageTitleSet(App.Config),Localization.Culture.localeLoad()},menuSet:function(e){for(var a=Controller.Config.menuLoad(e),t=0;t<a.length;t++){var n=a[t].type;switch(n){case"folder":var o=a[t].texto;$("<li><span class='fa "+App.Constantes.iconGalleries+"' /><a href='./index.html?folder="+Comun.htmlReplace(o)+"'>"+o+"</a></li>").appendTo("#menu");break;case"gallery":var o=a[t].texto;$("<li><span class='fa "+App.Constantes.iconGallery+"' /><a href='./index.html?gallery="+Comun.htmlReplace(o)+"'>"+o+"</a></li>").appendTo("#menu");break;case"multimedia":var o=a[t].texto;$("<li><span class='fa "+App.Constantes.iconVideo+"' /><a href='./index.html?multimedia="+Comun.htmlReplace(o)+"'>"+o+"</a></li>").appendTo("#menu")}}},sloganSet:function(e){var a=Controller.Config.sloganLoad(e),t=a.texto;$(t).appendTo("#slogan")},imageValidate:function(e){return void 0!=e},generalGet:function(e){var a=Controller.Config.generalLoad(e);return a},seoValuesSet:function(e){var e=Controller.Config.seoValoresLoad(e);$('meta[name="description"]').attr("content",e.infoText),$('meta[name="keywords"]').attr("content",e.keywords),$('meta[itemprop="name"]').attr("content",App.Config.author),$('meta[itemprop="description"]').attr("content",e.infoText),$('meta[name="author"]').attr("content",App.Config.author),$('meta[name="copyright"]').attr("content","@"+App.Config.annio+" "+App.Config.author+" v"+App.Config.version)},openGraph:function(e){var a="";Comun.queryStringParamGet("news")&&(a=" ("+Localization.Culture.getResource("menu.masNuevo")+")"),$('meta[property="og:url"').attr("content",""+App.Config.home+"/detail.html?gallery=f8794f27d0c92a8e436f3ba336ae2a0c&photo=1"),$('meta[property="og:type"').attr("content","article"),$('meta[property="og:title"').attr("content",e.titulo+a),$('meta[property="og:description"').attr("content",e.infoimagen),$('meta[property="og:image"').attr("content",""+App.Config.home+"/images/"+e.id)},pageTitleSet:function(e){$("<p class='card-text'><small>@<span id='annio'>"+e.annio+"</span> "+e.author+" v<span id='version'>"+e.version+"</span></small></p>").prependTo("#copyright")},infoLinkGet:function(e){if("about:blank"!=e&&e!=App.Constantes.cadenaVacia&&void 0!=e){for(var a=e.split("|"),t=App.Constantes.cadenaVacia,n=0;n<a.length;n++){var o=a[n].split("*");switch(o[0]){case App.Constantes.appFlickr:t+="<a href='"+o[1]+"' target='_blank'><img src='"+App.Config.rutaAuxiliares+"flickr.png' style='width:14px!important;' title='"+Localization.Culture.getResource("detalle.imagen.publicado.flickr")+"'/></a>";break;case App.Constantes.appPinterest:t+="<a href='"+o[1]+"' target='_blank'><img src='"+App.Config.rutaAuxiliares+"pinterest.png' style='width:14px!important;' title='"+Localization.Culture.getResource("detalle.imagen.publicado.pinterest")+"'/></a>";break;case App.Constantes.app500px:t+="<a href='"+o[1]+"' target='_blank'><img src='"+App.Config.rutaAuxiliares+"500px.png' style='width:14px!important;' title='"+Localization.Culture.getResource("detalle.imagen.publicado.500px")+"'/></a>"}}return t}return App.Constantes.cadenaVacia},stockGet:function(e,a){if("about:blank"!=e&&e!=App.Constantes.cadenaVacia&&void 0!=e){for(var t=e.split("*"),n="<span class='card-sale'>"+Localization.Culture.getResource("detalle.serie")+"</span>",o=0;o<t.length;o++){var i=t[o].split("|"),l=App.Constantes.cadenaVacia;switch(i[0]){case"PAP":l=Localization.Culture.getResource("detalle.serie.pap");break;case"EDM":l=Localization.Culture.getResource("detalle.serie.edm");break;case"EGR":l=Localization.Culture.getResource("detalle.serie.egr")}n+=' <a tabindex="0" class="" role="button" data-trigger="focus" data-toggle="popover" data-html="true" title="'+Localization.Culture.getResource("detalle.serie")+" "+i[0]+": "+l+"\" data-content=\"<div class='popover-serie'><div class='popover-image'><img src='"+App.Config.rutaStore+a+"."+i[0]+".jpg'/></div><div class='popover-paragraph'><div class='popover-line'><div class='popover-label'>Dim.:</div><div class='popover-dato'>"+i[1]+"</div></div><div class='popover-line'><div class='popover-label'>Stock:</div><div class='popover-dato'>"+i[2]+'</div></div></div></div>">'+i[0]+"</a>"}return n}return App.Constantes.cadenaVacia},breadcrumGet:function(a,t){var n=a,o="";if(void 0==n&&void 0==t)o="<li class='breadcrumb-item'><a href='./index.html'>"+Localization.Culture.getResource("menu.inicio")+"</a></li>",o+="<li class='breadcrumb-item active'>"+Localization.Culture.getResource("menu.masNuevo")+"</li>";else{if(document.URL.toLowerCase().indexOf("sequence.html")>0?(o="<li class='breadcrumb-item active'>"+Localization.Culture.getResource("menu.secuencia")+"</li>",""!=n&&(o=e(n[0].nodeName,n.attr("name"),t,1)+o)):document.URL.toLowerCase().indexOf("detail.html")>0?(o="<li class='breadcrumb-item active'>"+Localization.Culture.getResource("menu.imagen")+"</li>",""!=n&&(o=e(n[0].nodeName,n.attr("name"),t,1)+o)):o+=e(n[0].nodeName,n.attr("name"),t,0),""!=n)for(;void 0!=n.parent().attr("name");)n=n.parent(),o=e(n[0].nodeName,n.attr("name"),t,1)+o;void 0!=t&&(o=e(Localization.Culture.getResource("menu.masNuevo"),t,t,1)+o),o="<li class='breadcrumb-item'><a href='./index.html'>"+Localization.Culture.getResource("menu.inicio")+"</a></li>"+o}return o},bannerCookiesLoad:function(e){if("hide"!=$.cookie("banner")){var a=Controller.Config.bannerCookiesLoad(e),t=a.texto;$("<div id='banner-cookie-bottom-overlay'><div class='banner-cookie-texto'>"+t+"</div></div>").appendTo("#banner-cookie-bottom"),$("#banner-cookie-bottom").show(),$("#banner-cookie-submit").click(function(e){e.preventDefault(),$("#banner-cookie-bottom").hide(),$.cookie("banner","hide")}),$("#banner-cookie-cancel").click(function(e){e.preventDefault(),$("#banner-cookie-bottom").hide()})}}},General}(),Index:function(){var e=function(e,a,t,n){var o=$("<ul class='breadcrumb'>").insertBefore("#main");$(View.General.breadcrumGet(t,n)).appendTo(o);var i="";if(void 0!=t&&""!=t){i=$(this).attr("name");var l="";l=void 0!=t.parent().attr("name")?App.Config.dataTextTitle+t.parent().attr("name")+":"+i:App.Config.dataTextTitle+i,$("#shareme").attr("data-url",window.location.href),$("#shareme").attr("data-text",App.Config.dataTextTitle+l),View.General.seoValuesSet(t)}View.General.bannerCookiesLoad(e)};return Index={homeSet:function(e){$("#shareme").attr("data-url",App.Config.home),$("#shareme").attr("data-text",App.Config.dataTextTitle+App.Config.dataTextHome);for(var a=Controller.Config.allLoad(e),t=0;t<a.length;t++){var n=a[t][0].type;switch(n){case"gallery":var o=a[t][0].titulo,i=a[t][0].id.replace(".jpg",""),l=a[t][0].update,r=$("<div class='card p-1'>").appendTo("#tiles"),s=$("<div class='card-image'>").appendTo(r);$("<img class='card-img-top img-fluid' id='"+i+"' src='"+App.Config.rutaImage+i+".jpg' title='"+o+"' alt='imagen "+o+"' />").appendTo(s);var p=$("<div class='card-block'>").appendTo(r),d=$("<h4 class='card-title'>").appendTo(p);$("<span class='fa "+App.Constantes.iconGallery+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d);var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(l)+"</small>").appendTo(c),$(r).wrap("<a href='./index.html?gallery="+Comun.htmlReplace(o)+"'>");break;case"multimedia":var o=a[t][0].titulo,i=a[t][0].id.replace(".jpg",""),l=a[t][0].update,r=$("<div class='card p-1'>").appendTo("#tiles"),s=$("<div class='card-video'>").appendTo(r);$("<img class='card-img-top img-fluid' id='"+i+"' src='"+App.Config.rutaImage+i+".jpg' title='"+o+"' alt=' "+o+"' />").appendTo(s);var p=$("<div class='card-block'>").appendTo(r),d=$("<h4 class='card-title'>").appendTo(p);$("<span class='fa "+App.Constantes.iconVideo+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d);var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(l)+"</small>").appendTo(c),$(r).wrap("<a href='./index.html?multimedia="+Comun.htmlReplace(o)+"'>");break;case"folderImages":var o=a[t][0].titulo,i=a[t][0].id.replace(".jpg",""),l=a[t][0].update,m=a[t][0].thumbs,r=$("<div class='card p-1'>").appendTo("#tiles"),s=$("<div class='card-image'>").appendTo(r);$("<img class='card-img-top img-fluid' id='"+i+"' src='"+App.Config.rutaImage+i+".jpg' title='"+o+"' alt=' "+o+"' />").appendTo(s);var p=$("<div class='card-block'>").appendTo(r),d=$("<h4 class='card-title'>").appendTo(p);if($("<span class='fa "+App.Constantes.iconGalleries+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d),m.length>0){var u,g=$("<div class='row thumbs'>").appendTo(p);for(u=0;u<m.length&&u<4;u++){var f=$("<div class='col-3'>").appendTo(g);$("<img class='img-fluid' src='"+App.Config.rutaThumb+m[u].id+"' title='"+m[u].titulo+"' alt='"+m[u].titulo+"'>").appendTo(f)}for(;u<4;){var f=$("<div class='col-3'>").appendTo(g);$("<img class='img-fluid' src='"+App.Config.rutaAuxiliares+"000000000.png' alt='no imagen'>").appendTo(f),u++}}var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(l)+"</small>").appendTo(c),$(r).wrap("<a href='./index.html?folder="+Comun.htmlReplace(o)+"'>");break;case"folderText":var o=a[t][0].titulo,l=a[t][0].update,m=a[t][0].thumbs,r=$("<div class='card p-1'>").appendTo("#tiles"),p=$("<div class='card-block'>").appendTo(r),d=$("<h4 class='card-title'>").appendTo(p);if($("<span class='fa "+App.Constantes.iconText+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d),m.length>0)for(var v=$("<ul>").appendTo(p),u=0;u<m.length;u++){var h=m[u].titulo,C=$("<li>"+h+"</li>").appendTo(v);$(C).wrap("<a href='#' data-toggle='modal' data-target='."+Comun.htmlReplace(h)+"'>"),View.Index.modalSet(e,Comun.htmlReplace(h))}var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(l)+"</small>").appendTo(c);break;case"section":var o=a[t][0].titulo,l=a[t][0].update,r=$("<div class='card p-1'>").appendTo("#tiles"),p=$("<div class='card-block'>").appendTo(r),d=$("<h4 class='card-title'>").appendTo(p);$("<span class='fa "+App.Constantes.iconInfo+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d);var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(l)+"</small>").appendTo(c),$(r).wrap("<a href='#' data-toggle='modal' data-target='."+Comun.htmlReplace(o)+"'>"),View.Index.modalSet(e,Comun.htmlReplace(o))}}View.General.seoValuesSet(Controller.Config.generalNodeGet(e)),View.General.bannerCookiesLoad(e)},gallerySet:function(a,t,n){for(var o=Controller.Config.galleryLoad(a,t),i=0;i<o.length;i++){var l=o[i][0].id.replace(".jpg",""),r=o[i][0].titulo,s=o[i][0].infoimagen,p=o[i][0].format,d=o[i][0].stock,c=o[i][0].price,m=o[i][0].linkurl,u=o[i][0].update,g=$("<div class='card p-1'>").appendTo("#tiles"),f=$("<div class='card-image' title='"+Localization.Culture.getResource("detalle.imagen.ver")+"'>").appendTo(g);$("<img class='card-img-top img-fluid' id='"+l+"' src='"+App.Config.rutaImage+l+".jpg' alt='imagen "+r+"' />").appendTo(f),void 0!=n?$(f).wrap("<a href='./detail.html?gallery="+t+"&photo="+i+"&news="+n+"'>"):$(f).wrap("<a href='./detail.html?gallery="+t+"&photo="+i+"'>");var v=$("<div class='card-block' title='"+Localization.Culture.getResource("detalle.imagen.ver")+"'>").appendTo(g),h=$("<h4 class='card-title'>").appendTo(v);$("<span class='fa "+App.Constantes.iconImage+"'></span>").appendTo(h),$("<span class='col-10'>"+r+"</span>").appendTo(h);var C=$("<div title='"+Localization.Culture.getResource("detalle.secuencia.ver")+"'>").appendTo(h);$("<span class='fa fa-chevron-left'>").appendTo(C),$("<span class='fa fa-chevron-right'>").appendTo(C),void 0!=n?$(C).wrap("<a class='secuencia' href='./sequence.html?gallery="+t+"&photo="+i+"&news="+n+"'>"):$(C).wrap("<a class='secuencia' href='./sequence.html?gallery="+t+"&photo="+i+"'>");var T=($("<p class='card-text'>"+s+"</p>").appendTo(v),"");void 0!=p&&""!=p&&(T+=App.Constantes.dimesion+p),void 0!=d&&""!=d&&(T+=" "+d),void 0!=c&&""!=c&&(""!=T&&(T+="<br />"),T+=App.Constantes.copia+c+App.Constantes.moneda);var w=$("<p class='card-stock text-left'>").appendTo(v);$("<small class='text-muted'>"+View.General.stockGet(d,l)+"</small>").appendTo(w);var b=$("<div class='row justify-content-between'>").appendTo(v),y=$("<div class='col-4 text-left'>").appendTo(b);$(View.General.infoLinkGet(m)).appendTo(y);var x=$("<p class='card-date text-right'>").appendTo(b);$("<small class='text-muted'>"+Comun.dateFormat(u)+"</small>").appendTo(x)}e(a,"",Controller.Config.galleryFind(a,t),n)},folderSet:function(a,t,n){for(var o=Controller.Config.folderLoad(a,t),i=0;i<o.length;i++){var l=o[i][0].titulo,r=(o[i][0].id,o[i][0].id.replace(".jpg","")),s=o[i][0].update,p=$("<div class='card p-1'>").appendTo("#tiles"),d=$("<div class='card-image'>").appendTo(p);$("<img class='card-img-top img-fluid' id='"+r+"' src='"+App.Config.rutaImage+r+".jpg' title='"+l+"' alt='Columnas Css' />").appendTo(d),void 0!=n?$(d).wrap("<a href='./index.html?gallery="+Comun.htmlReplace(l)+"&news="+n+"'>"):$(d).wrap("<a href='./index.html?gallery="+Comun.htmlReplace(l)+"'>");var c=$("<div class='card-block'>").appendTo(p),m=$("<h4 class='card-title'>").appendTo(c);$("<span class='fa "+App.Constantes.iconGallery+"'></span>").appendTo(m),$("<span class='col-11'>"+l+"</span>").appendTo(m);var u=$("<p class='card-date text-right'>").appendTo(c);$("<small class='text-muted'>"+Comun.dateFormat(s)+"</small>").appendTo(u)}e(a,"",Controller.Config.folderFind(a,t),n)},multimediaSet:function(a,t,n){for(var o=Controller.Config.multimediaLoad(a,t),i=0;i<o.length;i++){var l=o[i][0].id.replace(".jpg",""),r=o[i][0].titulo,s=o[i][0].infoimagen,p=(o[i][0].format,o[i][0].stock,o[i][0].price,o[i][0].linkurl),d=o[i][0].update,c=$("<div class='card p-1'>").appendTo("#tiles"),m=$("<div class='card-video'>").appendTo(c);$("<img class='card-img-top img-fluid' id='"+l+"' src='"+App.Config.rutaImage+l+".jpg' title='"+r+"' alt='Columnas Css' />").appendTo(m);var u=$("<div class='card-block'>").appendTo(c),g=$("<h4 class='card-title'>").appendTo(u);$("<span class='fa "+App.Constantes.iconVideo+"'></span>").appendTo(g),$("<span class='col-11'>"+r+"</span>").appendTo(g);var f=($("<p class='card-text'>"+s+"</p>").appendTo(u),$("<div class='row justify-content-between'>").appendTo(u)),v=$("<div class='col-4 text-left'>").appendTo(f);$("<img src='"+App.Config.rutaAuxiliares+"youtube.png' style='width:14px!important;' title='"+Localization.Culture.getResource("detalle.imagen.publicado.youtube")+"'/>").appendTo(v);var h=$("<p class='card-date text-right'>").appendTo(f);$("<small class='text-muted'>"+Comun.dateFormat(d)+"</small>").appendTo(h),$(c).wrap("<a data-lity href='"+p+"'>")}e(a,"",Controller.Config.multimediaFind(a,t),n)},lastCargar:function(e){var a=Controller.Config.newsLoad(e);a.sort(Comun.arrayDateSort);var t=a[0][0].titulo,n=a[0][0].id,o=n.replace(".jpg",""),i="video"==a[0][0].type?"card-video":"card-image",l=$("<div class='card p-1'>").appendTo("#tiles"),r=$("<div class='"+i+"'>").appendTo(l);$("<img class='card-img-top img-fluid' id='"+o+"' src='"+App.Config.rutaImage+o+".jpg' title='"+t+"' alt='Columnas Css' />").appendTo(r);var s=$("<div class='card-block'>").appendTo(l),p=$("<h4 class='card-title'>").appendTo(s);$("<span class='fa "+App.Constantes.iconNew+"'></span>").appendTo(p),$("<span class='col-11'>"+Localization.Culture.getResource("menu.masNuevo")+"</span>").appendTo(p);var d=$("<p class='card-date text-right'>").appendTo(s);$("<small class='text-muted'>"+Comun.dateFormat(a[0][0].update)+"</small>").appendTo(d),$(l).wrap("<a href='./index.html?news="+a[0][0].update+"'>")},newsSet:function(a,t){var n=Controller.Config.newsLoad(a);n.sort(Comun.arrayDateSort),e(a,""),View.General.seoValuesSet(Controller.Config.generalNodeGet(a));for(var o=0,i=0;i<n.length-1&&i<App.Config.elemNuevos;i++){var l="video"==n[i][0].type?"card-video":"card-image",r=("video"==n[i][0].type?App.Constantes.iconVideo:App.Constantes.iconImage,"video"==n[i][0].type?n[i][0].titulo:Localization.Culture.getResource("detalle.secuencia.ver"),$("<div class='card p-1'>").appendTo("#tiles")),s=$("<div class='"+l+"'>").appendTo(r);$("<img class='card-img-top img-fluid' id='"+n[i][0].id.replace(".jpg","")+"' src='"+App.Config.rutaImage+n[i][0].id.replace(".jpg","")+".jpg' title='"+n[i][0].titulo+"' alt='Columnas Css' />").appendTo(s),$(s).wrap("<a href='./detail.html?news="+t+"&photo="+o+"'>");var p=$("<div class='card-block'>").appendTo(r),d=$("<h4 class='card-title'>").appendTo(p);if($("<span class='fa "+App.Constantes.iconImage+"'></span>").appendTo(d),$("<span class='col-10'>"+n[i][0].titulo+"</span>").appendTo(d),"video"!=n[i][0].type){var c=$("<div title='"+Localization.Culture.getResource("detalle.secuencia.ver")+"'>").appendTo(d);$("<span class='fa fa-chevron-left'>").appendTo(c),$("<span class='fa fa-chevron-right'>").appendTo(c)}var m=$("<div class='card-colection'>").appendTo(p),u=$("<p class='card-text'><span class='fa "+App.Constantes.iconColection+"'></span>ir a</p>").appendTo(m),g=$("<span>"+n[i][0].parentName+"</span>").appendTo(u),f=$("<div class='row justify-content-between'>").appendTo(p);if("video"==n[i][0].type){$(s).wrap("<a data-lity='' href='"+n[i][0].linkurl+"'>"),$(g).wrap("<a href='./index.html?multimedia="+n[i][0].parentFolder+"&news="+t+"'>");var v=$("<div class='col-4 text-left'>").appendTo(f);$("<img src='"+App.Config.rutaAuxiliares+"youtube.png' style='width:14px!important;' title='"+Localization.Culture.getResource("detalle.imagen.publicado.youtube")+"'/>").appendTo(v)}else{$(c).wrap("<a class='secuencia' href='./sequence.html?news="+t+"&photo="+o+"'>"),$(g).wrap("<a href='./index.html?gallery="+n[i][0].parentFolder+"&news="+t+"'>");var v=$("<div class='col-4 text-left'>").appendTo(f);$(View.General.infoLinkGet(n[i][0].linkurl)).appendTo(v),o++}var h=$("<p class='card-date text-right'>").appendTo(f);$("<small class='text-muted'>"+Comun.dateFormat(n[i][0].update)+"</small>").appendTo(h)}},bannerSet:function(e){var a=Controller.Config.newsLoad(e);a.sort(Comun.arrayDateSort);var t=a[0][0].update,n=View.General.generalGet(e);View.General.seoValuesSet(Controller.Config.generalNodeGet(e));var o=$("<div class='card'>").appendTo("#tiles"),i=$("<div class='card-block'>").appendTo(o),l=$("<div id='thumbs' class='d-flex flex-row'>").appendTo(i),r=$("<div class='p-3'>").appendTo(l);$("<img class='img-fluid' src='"+App.Config.rutaAuxiliares+"logo_xs.png' title='"+n.title+"' />").appendTo(r);$(r).wrap("<a href='./index.html?news="+t+"'>");for(var s=0;s<a.length-1&&s<App.Config.elemBanner;s++){var p=$("<div class='p-2'>").appendTo(l);$("<img class='img-fluid' src='"+App.Config.rutaThumb+a[s][0].id+"' title='"+a[s][0].titulo+"' alt='"+a[s][0].titulo+"'>").appendTo(p),$(p).wrap("<a href='./index.html?news="+t+"'>")}},modalSet:function(e,a){var t=Controller.Config.modalLoad(e,a),n=t.titulo.toUpperCase(),o=t.texto,i=$("<div class='modal fade "+a+"' tabindex='-1' role='dialog' aria-labelledby='myLargeModalLabel' aria-hidden='true'>").appendTo("#main"),l=$("<div class='modal-dialog modal-lg'>").appendTo(i),r=$("<div class='modal-content'>").appendTo(l),s=$("<div class='modal-header'>").appendTo(r);$("<h5 class='modal-title'>"+n+"</h5>").appendTo(s);var p=$("<button type='button' class='close' data-dismiss='modal' aria-label='Close'>").appendTo(s);$("<span aria-hidden='true'>&times;</span>").appendTo(p);var d=$("<div class='modal-body'>").appendTo(r);$(o).appendTo(d),$("<div class='modal-footer'>").appendTo(r)}},Index}(),Detail:function(){var e=function(e,t,n,o,i){if(void 0!=i&&""!=i){if(Comun.insideIframe()){headTag=document.getElementsByTagName("head")[0].innerHTML;var l=headTag+'<link type="text/css" href="./css/im.iframe.css" rel="stylesheet">';document.getElementsByTagName("head")[0].innerHTML=l}var r=$("<ul class='breadcrumb'>").insertBefore("#main");$(View.General.breadcrumGet(n,o)).appendTo(r);var s="";if(""!=n){s=$(this).attr("name");var p="";p=void 0!=n.parent().attr("name")?App.Config.dataTextTitle+n.parent().attr("name")+":"+s:App.Config.dataTextTitle+s}var d,c,m=Comun.queryStringParamGet("gallery");Comun.insideIframe()?(d="col col-auto card-image",c="col image-text"):(d="col card-image",c="col col-auto image-text");for(var u=0;u<t.length;u++){var g=t[u][0].id.replace(".jpg",""),f=t[u][0].titulo,v=t[u][0].height,h=t[u][0].width,C=t[u][0].infoimagen,T=t[u][0].stock,w=$("<div id='layCard' class='row image-block'>").appendTo("#main"),b=$("<div id='layImage' class='"+d+"'>").appendTo(w);$("<img class='img-fluid' id='"+g+"' src='"+App.Config.rutaImage+g+".jpg' height='"+v+"' width='"+h+"' title='"+f+"'>").appendTo(b);var y=$("<div id='layTexto' class='"+c+"'>").appendTo(w),x=$("<h4>").appendTo(y);$("<span class='fa "+App.Constantes.iconImage+"'></span>").appendTo(x),$("<span class='title col-11'>"+f+"</span>").appendTo(x);var A=$("<div class='text'>").appendTo(y);$("<p>"+C+"</p>").appendTo(A);var k=$("<p class='card-stock text-left'>").appendTo(A);$("<small class='text-muted'>"+View.General.stockGet(T,g)+"</small>").appendTo(k);var L=$("<div class='bar-social'>").appendTo(y),S=$("<div id='shareBtn'>").appendTo(L);if($(S).wrap("<a id='shareLnk' href='#' class='fa fa-facebook-square'>"),document.getElementById("shareLnk").onclick=function(){lnkHrefImage(App.Config.home+"/images/"+g+".jpg")},!Comun.insideIframe()){var G=$("<div title='"+Localization.Culture.getResource("detalle.secuencia.ver")+"'>").appendTo(b);$("<span class='fa fa-chevron-left'>").appendTo(G),$("<span class='fa fa-chevron-right'>").appendTo(G),void 0!=o?$(G).wrap("<a class='secuencia' href='./sequence.html?news=true&photo="+i+"'>"):$(G).wrap("<a class='secuencia' href='./sequence.html?gallery="+m+"&photo="+i+"'>")}View.General.openGraph(t[u][0])}View.General.seoValuesSet(Controller.Config.generalNodeGet(e)),View.General.bannerCookiesLoad(e)}else{var r=$("<ul class='breadcrumb'>").insertBefore("#main");$(View.General.breadcrumGet(n,o)).appendTo(r);var s="";if(""!=n){s=$(this).attr("name");var p="";p=void 0!=n.parent().attr("name")?App.Config.dataTextTitle+n.parent().attr("name")+":"+s:App.Config.dataTextTitle+s}var V=1e3,m=Comun.queryStringParamGet("gallery");void 0==o||""==o||""!=m&&void 0!=m||(V=App.Config.elemNuevos);for(var u=0;u<t.length&&u<V;u++){var g=t[u][0].id.replace(".jpg",""),f=t[u][0].titulo,v=t[u][0].height,h=t[u][0].width,I=a(Comun.queryStringParamGet("photo"),u);$("<div class='carousel-item "+I+"'><img class='d-block img-fluid' id='"+g+"' src='"+App.Config.rutaImage+g+".jpg' height='"+v+"' width='"+h+"' title='"+f+"' alt='First slide'></div>").appendTo("#carouselInner"),$("<li data-target='#carouselSlides' class='"+I+"' data-slide-to='"+u+"'></li>").appendTo("#carouselIndicators")}View.General.seoValuesSet(Controller.Config.generalNodeGet(e)),View.General.bannerCookiesLoad(e)}},a=function(e,a){return void 0!=e&&""!=e&&$.isNumeric(e)?parseInt(e)==a?" active":"":0==a?" active":""};return Detail={gallerySet:function(a,t,n){a.find("gallery").each(function(){var o=$(this).attr("name");if(Comun.htmlReplace(o)==t){var i=new Array,l=0;$(this).children().each(function(){var e=$(this).attr("id"),a=typesHash.get(e);if(null!=a){var t=a.SRC,n=a.UPDATE,o=a.PUBLIC,r=a.CAPTION,s=a.LINKURL,p=a.INFOTEXT,d=a.WIDTH,c=a.HEIGHT;i[l]=[{id:t,update:n,public:o,titulo:r,linkurl:s,infoimagen:p,width:d,height:c}],l++}}),e(a,i,$(this),n)}})},imageSet:function(a,t,n,o){a.find("gallery").each(function(){var i=$(this).attr("name");if(Comun.htmlReplace(i)==t){var l=new Array,r=0,s=0;$(this).children().each(function(){var e=$(this).attr("id"),a=typesHash.get(e);if(null!=a&&s==o){var t=a.SRC,n=a.UPDATE,i=a.PUBLIC,p=a.CAPTION,d=a.LINKURL,c=a.INFOTEXT,m=a.WIDTH,u=a.HEIGHT,g=a.STOCK;l[r]=[{id:t,update:n,public:i,titulo:p,linkurl:d,infoimagen:c,width:m,height:u,stock:g}],r++}s++}),e(a,l,$(this),n,o)}})},imageNewSet:function(a,t,n){var o=Controller.Config.newsLoad(a),i=0;o.sort(Comun.arrayDateSort);for(var l=new Array,i=0,r=0,s=0;s<o.length-1;s++)if("video"!=o[s][0].type){if(r==n){var p=o[s][0].id.replace(".jpg",""),d=o[s][0].update,c=o[s][0].public,m=o[s][0].titulo,u=o[s][0].linkurl,g=o[s][0].infoimagen,f=o[s][0].width,v=o[s][0].height;l[i]=[{id:p,update:d,public:c,titulo:m,linkurl:u,infoimagen:g,width:f,height:v}],i++}r++}e(a,l,"",t,n)},newsSet:function(a,t,n){var o=new Array,i=0;a.find("img").each(function(){var e=$(this).attr("id"),a=typesHash.get(e);if(null!=a){var t=a.SRC,n=a.UPDATE,l=a.PUBLIC,r=a.CAPTION,s=a.LINKURL,p=a.INFOTEXT,d=a.WIDTH,c=a.HEIGHT,m=Comun.htmlReplace($(this).parent().attr("name")),u=Controller.Config.imagePathSet($(this),App.Config.separadorPathPanel);o[i]=[{id:t,update:n,public:l,titulo:r,linkurl:s,infoimagen:p,width:d,height:c,parentFolder:m,parentName:u}],i++}}),o.sort(Comun.arrayDateSort),e(a,o,"",n)}},Detail}()};