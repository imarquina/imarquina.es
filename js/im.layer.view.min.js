var typesHash=new Hashtable,dataXml;$(window).ready(function(){View.General.initialize();var a=Database.Photos.load();if(typesHash=Controller.Photos.load(a),dataXml=Database.Config.load(),document.URL.toLowerCase().indexOf("banner.html")>0)View.Index.bannerSet(dataXml);else if(View.General.menuSet(dataXml),View.General.sloganSet(dataXml),document.URL.toLowerCase().indexOf("sequence.html")>0){var e=Comun.queryStringParamGet("gallery");if(Comun.queryStringParamValue(e))View.Detail.gallerySet(dataXml,e,Comun.queryStringParamGet("news"));else{var t=Comun.queryStringParamGet("news");Comun.queryStringParamValue(t)&&View.Detail.newsSet(dataXml,t,Comun.queryStringParamGet("news"))}}else if(document.URL.toLowerCase().indexOf("detail.html")>0){var e=Comun.queryStringParamGet("gallery");if(Comun.queryStringParamValue(e))View.Detail.imageSet(dataXml,e,Comun.queryStringParamGet("news"),Comun.queryStringParamGet("photo"));else{var t=Comun.queryStringParamGet("news");Comun.queryStringParamValue(t)&&View.Detail.imageNewSet(dataXml,Comun.queryStringParamValue(t),Comun.queryStringParamGet("photo"))}}else{var e=Comun.queryStringParamGet("gallery");if(Comun.queryStringParamValue(e))View.Index.gallerySet(dataXml,e,Comun.queryStringParamGet("news"));else{var n=Comun.queryStringParamGet("folder");if(Comun.queryStringParamValue(n))View.Index.folderSet(dataXml,n,Comun.queryStringParamGet("news"));else{var o=Comun.queryStringParamGet("multimedia");if(Comun.queryStringParamValue(o))View.Index.multimediaSet(dataXml,o,Comun.queryStringParamGet("news"));else{var t=Comun.queryStringParamGet("news");Comun.queryStringParamValue(t)?View.Index.newsSet(dataXml,t):(View.Index.lastCargar(dataXml),View.Index.homeSet(dataXml))}}}}}),$(function(){var a=$(window),e=20;a.scroll(function(){a.scrollTop()<=e?$(".bar-goHead").addClass("hidden"):$(".bar-goHead").removeClass("hidden")}),$(function(){$('[data-toggle="popover"]').popover()})});var View={General:function(){var a=function(a,e,t,n){var o;return o=void 0!=t?a.toLowerCase()=="lo último".toLowerCase()?1==n?"<li class='breadcrumb-item'><a href='./index.html?news="+t+"'>"+"Lo &uacute;ltimo".toLowerCase()+"</a></li>":"<li class='breadcrumb-item active'>"+a.toLowerCase()+"</li>":1==n?"<li class='breadcrumb-item'><a href='./index.html?"+a+"="+Comun.htmlReplace(e)+"&news="+t+"'>"+e.toLowerCase()+"</a></li>":"<li class='breadcrumb-item active'>"+e.toLowerCase()+"</li>":1==n?"<li class='breadcrumb-item'><a href='./index.html?"+a+"="+Comun.htmlReplace(e)+"'>"+e.toLowerCase()+"</a></li>":"<li class='breadcrumb-item active'>"+e.toLowerCase()+"</li>"};return General={initialize:function(){lity();1==App.Config.developer&&$("#lnkstyledev").attr("href","./css/im.developer.css"),View.General.pageTitleSet(App.Config)},menuSet:function(a){for(var e=Controller.Config.menuLoad(a),t=0;t<e.length;t++){var n=e[t].type;switch(n){case"folder":var o=e[t].texto;$("<li><span class='fa "+App.Constantes.iconGalleries+"' /><a href='./index.html?folder="+Comun.htmlReplace(o)+"'>"+o+"</a></li>").appendTo("#menu");break;case"gallery":var o=e[t].texto;$("<li><span class='fa "+App.Constantes.iconGallery+"' /><a href='./index.html?gallery="+Comun.htmlReplace(o)+"'>"+o+"</a></li>").appendTo("#menu");break;case"multimedia":var o=e[t].texto;$("<li><span class='fa "+App.Constantes.iconVideo+"' /><a href='./index.html?multimedia="+Comun.htmlReplace(o)+"'>"+o+"</a></li>").appendTo("#menu")}}},sloganSet:function(a){var e=Controller.Config.sloganLoad(a),t=e.texto;$(t).appendTo("#slogan")},imageValidate:function(a){return void 0!=a},generalGet:function(a){var e=Controller.Config.generalLoad(a);return e},seoValuesSet:function(a){var a=Controller.Config.seoValoresLoad(a);$('meta[name="description"]').attr("content",a.infoText),$('meta[name="keywords"]').attr("content",a.keywords),$('meta[itemprop="name"]').attr("content",App.Config.author),$('meta[itemprop="description"]').attr("content",a.infoText),$('meta[name="author"]').attr("content",App.Config.author),$('meta[name="copyright"]').attr("content","@"+App.Config.annio+" "+App.Config.author+" v"+App.Config.version)},openGraph:function(a){var e="";Comun.queryStringParamGet("news")&&(e=" (Lo último)"),$('meta[property="og:url"').attr("content",""+App.Config.home+"/detail.html?gallery=f8794f27d0c92a8e436f3ba336ae2a0c&photo=1"),$('meta[property="og:type"').attr("content","article"),$('meta[property="og:title"').attr("content",a.titulo+e),$('meta[property="og:description"').attr("content",a.infoimagen),$('meta[property="og:image"').attr("content",""+App.Config.home+"/images/"+a.id)},pageTitleSet:function(a){$("<p class='card-text'><small>@<span id='annio'>"+a.annio+"</span> "+a.author+" v<span id='version'>"+a.version+"</span></small></p>").prependTo("#copyright")},infoLinkGet:function(a){if("about:blank"!=a&&a!=App.Constantes.cadenaVacia&&void 0!=a){for(var e=a.split("|"),t=App.Constantes.cadenaVacia,n=0;n<e.length;n++){var o=e[n].split("*");switch(o[0]){case App.Constantes.appFlickr:t+="<a href='"+o[1]+"' target='_blank'><img src='resources/flickr.png' style='width:14px!important;' title='publicado en flicr'/></a>";break;case App.Constantes.appPinterest:t+="<a href='"+o[1]+"' target='_blank'><img src='resources/pinterest.png' style='width:14px!important;' title='publicado en pinterest'/></a>";break;case App.Constantes.app500px:t+="<a href='"+o[1]+"' target='_blank'><img src='resources/500px.png' style='width:14px!important;' title='publicado en 500px'/></a>"}}return t}return App.Constantes.cadenaVacia},stockGet:function(a,e){if("about:blank"!=a&&a!=App.Constantes.cadenaVacia&&void 0!=a){for(var t=a.split("*"),n="<span class='card-sale'>Venta:</span>",o=0;o<t.length;o++){var i=t[o].split("|"),r=App.Constantes.cadenaVacia;switch(i[0]){case"PAP":r="Póster sin enmarcar";break;case"EDM":r="Foam impreso enmarcado";break;case"EGR":r="Foam impreso enmarcado"}n+=' <a tabindex="0" class="" role="button" data-trigger="focus" data-toggle="popover" data-html="true" title="Serie '+i[0]+": "+r+"\" data-content=\"<div class='popover-image'><img src='"+App.Config.rutaStore+e+"."+i[0]+".jpg'/></div><div class='popover-paragraph'><div class='popover-line'><div class='popover-label'>Dim.:</div><div class='popover-dato'>"+i[1]+"</div></div><div class='popover-line'><div class='popover-label'>Stock:</div><div class='popover-dato'>"+i[2]+'</div></div></div>">'+i[0]+"</a>"}return n}return App.Constantes.cadenaVacia},breadcrumGet:function(e,t){var n=e,o="";if(void 0==n&&void 0==t)o="<li class='breadcrumb-item'><a href='./index.html'>inicio</a></li>",o+="<li class='breadcrumb-item active'>lo último</li>";else{if(document.URL.toLowerCase().indexOf("sequence.html")>0?(o="<li class='breadcrumb-item active'>secuencia</li>",""!=n&&(o=a(n[0].nodeName,n.attr("name"),t,1)+o)):document.URL.toLowerCase().indexOf("detail.html")>0?(o="<li class='breadcrumb-item active'>imagen</li>",""!=n&&(o=a(n[0].nodeName,n.attr("name"),t,1)+o)):o+=a(n[0].nodeName,n.attr("name"),t,0),""!=n)for(;void 0!=n.parent().attr("name");)n=n.parent(),o=a(n[0].nodeName,n.attr("name"),t,1)+o;void 0!=t&&(o=a("lo último",t,t,1)+o),o="<li class='breadcrumb-item'><a href='./index.html'>inicio</a></li>"+o}return o},bannerCookiesLoad:function(a){if("hide"!=$.cookie("banner")){var e=Controller.Config.bannerCookiesLoad(a),t=e.texto;$("<div id='banner-cookie-bottom-overlay'><div class='banner-cookie-texto'>"+t+"</div></div>").appendTo("#banner-cookie-bottom"),$("#banner-cookie-bottom").show(),$("#banner-cookie-submit").click(function(a){a.preventDefault(),$("#banner-cookie-bottom").hide(),$.cookie("banner","hide")}),$("#banner-cookie-cancel").click(function(a){a.preventDefault(),$("#banner-cookie-bottom").hide()})}}},General}(),Index:function(){var a=function(a,e,t,n){var o=$("<ul class='breadcrumb'>").insertBefore("#main");$(View.General.breadcrumGet(t,n)).appendTo(o);var i="";if(void 0!=t&&""!=t){i=$(this).attr("name");var r="";r=void 0!=t.parent().attr("name")?App.Config.dataTextTitle+t.parent().attr("name")+":"+i:App.Config.dataTextTitle+i,$("#shareme").attr("data-url",window.location.href),$("#shareme").attr("data-text",App.Config.dataTextTitle+r),View.General.seoValuesSet(t)}View.General.bannerCookiesLoad(a)};return Index={homeSet:function(a){$("#shareme").attr("data-url",App.Config.home),$("#shareme").attr("data-text",App.Config.dataTextTitle+App.Config.dataTextHome);for(var e=Controller.Config.allLoad(a),t=0;t<e.length;t++){var n=e[t][0].type;switch(n){case"gallery":var o=e[t][0].titulo,i=e[t][0].id.replace(".jpg",""),r=e[t][0].update,l=$("<div class='card p-1'>").appendTo("#tiles"),s=$("<div class='card-image'>").appendTo(l);$("<img class='card-img-top img-fluid' id='"+i+"' src='"+App.Config.rutaImage+i+".jpg' title='"+o+"' alt='imagen "+o+"' />").appendTo(s);var p=$("<div class='card-block'>").appendTo(l),d=$("<h4 class='card-title'>").appendTo(p);$("<span class='fa "+App.Constantes.iconGallery+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d);var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(r)+"</small>").appendTo(c),$(l).wrap("<a href='./index.html?gallery="+Comun.htmlReplace(o)+"'>");break;case"multimedia":var o=e[t][0].titulo,i=e[t][0].id.replace(".jpg",""),r=e[t][0].update,l=$("<div class='card p-1'>").appendTo("#tiles"),s=$("<div class='card-video'>").appendTo(l);$("<img class='card-img-top img-fluid' id='"+i+"' src='"+App.Config.rutaImage+i+".jpg' title='"+o+"' alt=' "+o+"' />").appendTo(s);var p=$("<div class='card-block'>").appendTo(l),d=$("<h4 class='card-title'>").appendTo(p);$("<span class='fa "+App.Constantes.iconVideo+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d);var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(r)+"</small>").appendTo(c),$(l).wrap("<a href='./index.html?multimedia="+Comun.htmlReplace(o)+"'>");break;case"folderImages":var o=e[t][0].titulo,i=e[t][0].id.replace(".jpg",""),r=e[t][0].update,m=e[t][0].thumbs,l=$("<div class='card p-1'>").appendTo("#tiles"),s=$("<div class='card-image'>").appendTo(l);$("<img class='card-img-top img-fluid' id='"+i+"' src='"+App.Config.rutaImage+i+".jpg' title='"+o+"' alt=' "+o+"' />").appendTo(s);var p=$("<div class='card-block'>").appendTo(l),d=$("<h4 class='card-title'>").appendTo(p);if($("<span class='fa "+App.Constantes.iconGalleries+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d),m.length>0){var u,g=$("<div class='row thumbs'>").appendTo(p);for(u=0;u<m.length&&u<4;u++){var f=$("<div class='col-3'>").appendTo(g);$("<img class='img-fluid' src='"+App.Config.rutaThumb+m[u].id+"' title='"+m[u].titulo+"' alt='"+m[u].titulo+"'>").appendTo(f)}for(;u<4;){var f=$("<div class='col-3'>").appendTo(g);$("<img class='img-fluid' src='resources/000000000.png' alt='no imagen'>").appendTo(f),u++}}var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(r)+"</small>").appendTo(c),$(l).wrap("<a href='./index.html?folder="+Comun.htmlReplace(o)+"'>");break;case"folderText":var o=e[t][0].titulo,r=e[t][0].update,m=e[t][0].thumbs,l=$("<div class='card p-1'>").appendTo("#tiles"),p=$("<div class='card-block'>").appendTo(l),d=$("<h4 class='card-title'>").appendTo(p);if($("<span class='fa "+App.Constantes.iconText+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d),m.length>0)for(var v=$("<ul>").appendTo(p),u=0;u<m.length;u++){var h=m[u].titulo,C=$("<li>"+h+"</li>").appendTo(v);$(C).wrap("<a href='#' data-toggle='modal' data-target='."+Comun.htmlReplace(h)+"'>"),View.Index.modalSet(a,Comun.htmlReplace(h))}var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(r)+"</small>").appendTo(c);break;case"section":var o=e[t][0].titulo,r=e[t][0].update,l=$("<div class='card p-1'>").appendTo("#tiles"),p=$("<div class='card-block'>").appendTo(l),d=$("<h4 class='card-title'>").appendTo(p);$("<span class='fa "+App.Constantes.iconInfo+"'></span>").appendTo(d),$("<span class='col-11'>"+o+"</span>").appendTo(d);var c=$("<p class='card-date text-right'>").appendTo(p);$("<small class='text-muted'>"+Comun.dateFormat(r)+"</small>").appendTo(c),$(l).wrap("<a href='#' data-toggle='modal' data-target='."+Comun.htmlReplace(o)+"'>"),View.Index.modalSet(a,Comun.htmlReplace(o))}}View.General.seoValuesSet(Controller.Config.generalNodeGet(a)),View.General.bannerCookiesLoad(a)},gallerySet:function(e,t,n){for(var o=Controller.Config.galleryLoad(e,t),i=0;i<o.length;i++){var r=o[i][0].id.replace(".jpg",""),l=o[i][0].titulo,s=o[i][0].infoimagen,p=o[i][0].format,d=o[i][0].stock,c=o[i][0].price,m=o[i][0].linkurl,u=o[i][0].update,g=$("<div class='card p-1'>").appendTo("#tiles"),f=$("<div class='card-image' title='ver imagen'>").appendTo(g);$("<img class='card-img-top img-fluid' id='"+r+"' src='"+App.Config.rutaImage+r+".jpg' alt='imagen "+l+"' />").appendTo(f),void 0!=n?$(f).wrap("<a href='./detail.html?gallery="+t+"&photo="+i+"&news="+n+"'>"):$(f).wrap("<a href='./detail.html?gallery="+t+"&photo="+i+"'>");var v=$("<div class='card-block' title='ver imagen'>").appendTo(g),h=$("<h4 class='card-title'>").appendTo(v);$("<span class='fa "+App.Constantes.iconImage+"'></span>").appendTo(h),$("<span class='col-10'>"+l+"</span>").appendTo(h);var C=$("<div title='ver secuencia'>").appendTo(h);$("<span class='fa fa-chevron-left'>").appendTo(C),$("<span class='fa fa-chevron-right'>").appendTo(C),void 0!=n?$(C).wrap("<a class='secuencia' href='./sequence.html?gallery="+t+"&photo="+i+"&news="+n+"'>"):$(C).wrap("<a class='secuencia' href='./sequence.html?gallery="+t+"&photo="+i+"'>");var T=($("<p class='card-text'>"+s+"</p>").appendTo(v),"");void 0!=p&&""!=p&&(T+=App.Constantes.dimesion+p),void 0!=d&&""!=d&&(T+=" "+d),void 0!=c&&""!=c&&(""!=T&&(T+="<br />"),T+=App.Constantes.copia+c+App.Constantes.moneda);var w=$("<p class='card-stock text-left'>").appendTo(v);$("<small class='text-muted'>"+View.General.stockGet(d,r)+"</small>").appendTo(w);var b=$("<div class='row justify-content-between'>").appendTo(v),y=$("<div class='col-4 text-left'>").appendTo(b);$(View.General.infoLinkGet(m)).appendTo(y);var x=$("<p class='card-date text-right'>").appendTo(b);$("<small class='text-muted'>"+Comun.dateFormat(u)+"</small>").appendTo(x)}a(e,"",Controller.Config.galleryFind(e,t),n)},folderSet:function(e,t,n){for(var o=Controller.Config.folderLoad(e,t),i=0;i<o.length;i++){var r=o[i][0].titulo,l=(o[i][0].id,o[i][0].id.replace(".jpg","")),s=o[i][0].update,p=$("<div class='card p-1'>").appendTo("#tiles"),d=$("<div class='card-image'>").appendTo(p);$("<img class='card-img-top img-fluid' id='"+l+"' src='"+App.Config.rutaImage+l+".jpg' title='"+r+"' alt='Columnas Css' />").appendTo(d),void 0!=n?$(d).wrap("<a href='./index.html?gallery="+Comun.htmlReplace(r)+"&news="+n+"'>"):$(d).wrap("<a href='./index.html?gallery="+Comun.htmlReplace(r)+"'>");var c=$("<div class='card-block'>").appendTo(p),m=$("<h4 class='card-title'>").appendTo(c);$("<span class='fa "+App.Constantes.iconGallery+"'></span>").appendTo(m),$("<span class='col-11'>"+r+"</span>").appendTo(m);var u=$("<p class='card-date text-right'>").appendTo(c);$("<small class='text-muted'>"+Comun.dateFormat(s)+"</small>").appendTo(u)}a(e,"",Controller.Config.folderFind(e,t),n)},multimediaSet:function(e,t,n){for(var o=Controller.Config.multimediaLoad(e,t),i=0;i<o.length;i++){var r=o[i][0].id.replace(".jpg",""),l=o[i][0].titulo,s=o[i][0].infoimagen,p=(o[i][0].format,o[i][0].stock,o[i][0].price,o[i][0].linkurl),d=o[i][0].update,c=$("<div class='card p-1'>").appendTo("#tiles"),m=$("<div class='card-video'>").appendTo(c);$("<img class='card-img-top img-fluid' id='"+r+"' src='"+App.Config.rutaImage+r+".jpg' title='"+l+"' alt='Columnas Css' />").appendTo(m);var u=$("<div class='card-block'>").appendTo(c),g=$("<h4 class='card-title'>").appendTo(u);$("<span class='fa "+App.Constantes.iconVideo+"'></span>").appendTo(g),$("<span class='col-11'>"+l+"</span>").appendTo(g);var f=($("<p class='card-text'>"+s+"</p>").appendTo(u),$("<div class='row justify-content-between'>").appendTo(u)),v=$("<div class='col-4 text-left'>").appendTo(f);$("<img src='./resources/youtube.png' style='width:14px!important;' title='publicado en youtube'/>").appendTo(v);var h=$("<p class='card-date text-right'>").appendTo(f);$("<small class='text-muted'>"+Comun.dateFormat(d)+"</small>").appendTo(h),$(c).wrap("<a data-lity href='"+p+"'>")}a(e,"",Controller.Config.multimediaFind(e,t),n)},lastCargar:function(a){var e=Controller.Config.newsLoad(a);e.sort(Comun.arrayDateSort);var t=e[0][0].titulo,n=e[0][0].id,o=n.replace(".jpg",""),i="video"==e[0][0].type?"card-video":"card-image",r=$("<div class='card p-1'>").appendTo("#tiles"),l=$("<div class='"+i+"'>").appendTo(r);$("<img class='card-img-top img-fluid' id='"+o+"' src='"+App.Config.rutaImage+o+".jpg' title='"+t+"' alt='Columnas Css' />").appendTo(l);var s=$("<div class='card-block'>").appendTo(r),p=$("<h4 class='card-title'>").appendTo(s);$("<span class='fa "+App.Constantes.iconNew+"'></span>").appendTo(p),$("<span class='col-11'>Lo &uacute;ltimo</span>").appendTo(p);var d=$("<p class='card-date text-right'>").appendTo(s);$("<small class='text-muted'>"+Comun.dateFormat(e[0][0].update)+"</small>").appendTo(d),$(r).wrap("<a href='./index.html?news="+e[0][0].update+"'>")},newsSet:function(e,t){var n=Controller.Config.newsLoad(e);n.sort(Comun.arrayDateSort),a(e,""),View.General.seoValuesSet(Controller.Config.generalNodeGet(e));for(var o=0,i=0;i<n.length-1&&i<App.Config.elemNuevos;i++){var r="video"==n[i][0].type?"card-video":"card-image",l=("video"==n[i][0].type?App.Constantes.iconVideo:App.Constantes.iconImage,"video"==n[i][0].type?n[i][0].titulo:"ver secuencia",$("<div class='card p-1'>").appendTo("#tiles")),s=$("<div class='"+r+"'>").appendTo(l);$("<img class='card-img-top img-fluid' id='"+n[i][0].id.replace(".jpg","")+"' src='"+App.Config.rutaImage+n[i][0].id.replace(".jpg","")+".jpg' title='"+n[i][0].titulo+"' alt='Columnas Css' />").appendTo(s),$(s).wrap("<a href='./detail.html?news="+t+"&photo="+o+"'>");var p=$("<div class='card-block'>").appendTo(l),d=$("<h4 class='card-title'>").appendTo(p);if($("<span class='fa "+App.Constantes.iconImage+"'></span>").appendTo(d),$("<span class='col-10'>"+n[i][0].titulo+"</span>").appendTo(d),"video"!=n[i][0].type){var c=$("<div title='ver secuencia'>").appendTo(d);$("<span class='fa fa-chevron-left'>").appendTo(c),$("<span class='fa fa-chevron-right'>").appendTo(c)}var m=$("<div class='card-colection'>").appendTo(p),u=$("<p class='card-text'><span class='fa "+App.Constantes.iconColection+"'></span>ir a</p>").appendTo(m),g=$("<span>"+n[i][0].parentName+"</span>").appendTo(u),f=$("<div class='row justify-content-between'>").appendTo(p);if("video"==n[i][0].type){$(s).wrap("<a data-lity='' href='"+n[i][0].linkurl+"'>"),$(g).wrap("<a href='./index.html?multimedia="+n[i][0].parentFolder+"&news="+t+"'>");var v=$("<div class='col-4 text-left'>").appendTo(f);$("<img src='./resources/youtube.png' style='width:14px!important;' title='publicado en youtube'/>").appendTo(v)}else{$(c).wrap("<a class='secuencia' href='./sequence.html?news="+t+"&photo="+o+"'>"),$(g).wrap("<a href='./index.html?gallery="+n[i][0].parentFolder+"&news="+t+"'>");var v=$("<div class='col-4 text-left'>").appendTo(f);$(View.General.infoLinkGet(n[i][0].linkurl)).appendTo(v),o++}var h=$("<p class='card-date text-right'>").appendTo(f);$("<small class='text-muted'>"+Comun.dateFormat(n[i][0].update)+"</small>").appendTo(h)}},bannerSet:function(a){var e=Controller.Config.newsLoad(a);e.sort(Comun.arrayDateSort);var t=e[0][0].update,n=View.General.generalGet(a);View.General.seoValuesSet(Controller.Config.generalNodeGet(a));var o=$("<div class='card'>").appendTo("#tiles"),i=$("<div class='card-block'>").appendTo(o),r=$("<div id='thumbs' class='d-flex flex-row'>").appendTo(i),l=$("<div class='p-3'>").appendTo(r);$("<img class='img-fluid' src='./resources/logo_xs.png' title='"+n.title+"' />").appendTo(l);$(l).wrap("<a href='./index.html?news="+t+"'>");for(var s=0;s<e.length-1&&s<App.Config.elemBanner;s++){var p=$("<div class='p-2'>").appendTo(r);$("<img class='img-fluid' src='"+App.Config.rutaThumb+e[s][0].id+"' title='"+e[s][0].titulo+"' alt='"+e[s][0].titulo+"'>").appendTo(p),$(p).wrap("<a href='./index.html?news="+t+"'>")}},modalSet:function(a,e){var t=Controller.Config.modalLoad(a,e),n=t.titulo.toUpperCase(),o=t.texto,i=$("<div class='modal fade "+e+"' tabindex='-1' role='dialog' aria-labelledby='myLargeModalLabel' aria-hidden='true'>").appendTo("#main"),r=$("<div class='modal-dialog modal-lg'>").appendTo(i),l=$("<div class='modal-content'>").appendTo(r),s=$("<div class='modal-header'>").appendTo(l);$("<h5 class='modal-title'>"+n+"</h5>").appendTo(s);var p=$("<button type='button' class='close' data-dismiss='modal' aria-label='Close'>").appendTo(s);$("<span aria-hidden='true'>&times;</span>").appendTo(p);var d=$("<div class='modal-body'>").appendTo(l);$(o).appendTo(d),$("<div class='modal-footer'>").appendTo(l)}},Index}(),Detail:function(){var a=function(a,t,n,o,i){if(void 0!=i&&""!=i){if(Comun.insideIframe()){headTag=document.getElementsByTagName("head")[0].innerHTML;var r=headTag+'<link type="text/css" href="./css/im.iframe.css" rel="stylesheet">';document.getElementsByTagName("head")[0].innerHTML=r}var l=$("<ul class='breadcrumb'>").insertBefore("#main");$(View.General.breadcrumGet(n,o)).appendTo(l);var s="";if(""!=n){s=$(this).attr("name");var p="";p=void 0!=n.parent().attr("name")?App.Config.dataTextTitle+n.parent().attr("name")+":"+s:App.Config.dataTextTitle+s}var d,c,m=Comun.queryStringParamGet("gallery");Comun.insideIframe()?(d="col col-auto card-image",c="col image-text"):(d="col card-image",c="col col-auto image-text");for(var u=0;u<t.length;u++){var g=t[u][0].id.replace(".jpg",""),f=t[u][0].titulo,v=t[u][0].height,h=t[u][0].width,C=t[u][0].infoimagen,T=t[u][0].stock,w=$("<div id='layCard' class='row image-block'>").appendTo("#main"),b=$("<div id='layImage' class='"+d+"'>").appendTo(w);$("<img class='img-fluid' id='"+g+"' src='"+App.Config.rutaImage+g+".jpg' height='"+v+"' width='"+h+"' title='"+f+"'>").appendTo(b);var y=$("<div id='layTexto' class='"+c+"'>").appendTo(w),x=$("<h4>").appendTo(y);$("<span class='fa "+App.Constantes.iconImage+"'></span>").appendTo(x),$("<span class='title col-11'>"+f+"</span>").appendTo(x);var k=$("<div class='text'>").appendTo(y);$("<p>"+C+"</p>").appendTo(k);var S=$("<p class='card-stock text-left'>").appendTo(k);$("<small class='text-muted'>"+View.General.stockGet(T,g)+"</small>").appendTo(S);var A=$("<div class='bar-social'>").appendTo(y),G=$("<div id='shareBtn'>").appendTo(A);if($(G).wrap("<a id='shareLnk' href='#' class='fa fa-facebook-square'>"),document.getElementById("shareLnk").onclick=function(){lnkHrefImage(App.Config.home+"/images/"+g+".jpg")},!Comun.insideIframe()){var V=$("<div title='ver secuencia'>").appendTo(b);$("<span class='fa fa-chevron-left'>").appendTo(V),$("<span class='fa fa-chevron-right'>").appendTo(V),void 0!=o?$(V).wrap("<a class='secuencia' href='./sequence.html?news=true&photo="+i+"'>"):$(V).wrap("<a class='secuencia' href='./sequence.html?gallery="+m+"&photo="+i+"'>")}View.General.openGraph(t[u][0])}View.General.seoValuesSet(Controller.Config.generalNodeGet(a)),View.General.bannerCookiesLoad(a)}else{var l=$("<ul class='breadcrumb'>").insertBefore("#main");$(View.General.breadcrumGet(n,o)).appendTo(l);var s="";if(""!=n){s=$(this).attr("name");var p="";p=void 0!=n.parent().attr("name")?App.Config.dataTextTitle+n.parent().attr("name")+":"+s:App.Config.dataTextTitle+s}var L=1e3,m=Comun.queryStringParamGet("gallery");void 0==o||""==o||""!=m&&void 0!=m||(L=App.Config.elemNuevos);for(var u=0;u<t.length&&u<L;u++){var g=t[u][0].id.replace(".jpg",""),f=t[u][0].titulo,v=t[u][0].height,h=t[u][0].width,I=e(Comun.queryStringParamGet("photo"),u);$("<div class='carousel-item "+I+"'><img class='d-block img-fluid' id='"+g+"' src='"+App.Config.rutaImage+g+".jpg' height='"+v+"' width='"+h+"' title='"+f+"' alt='First slide'></div>").appendTo("#carouselInner"),$("<li data-target='#carouselSlides' class='"+I+"' data-slide-to='"+u+"'></li>").appendTo("#carouselIndicators")}View.General.seoValuesSet(Controller.Config.generalNodeGet(a)),View.General.bannerCookiesLoad(a)}},e=function(a,e){return void 0!=a&&""!=a&&$.isNumeric(a)?parseInt(a)==e?" active":"":0==e?" active":""};return Detail={gallerySet:function(e,t,n){e.find("gallery").each(function(){var o=$(this).attr("name");if(Comun.htmlReplace(o)==t){var i=new Array,r=0;$(this).children().each(function(){var a=$(this).attr("id"),e=typesHash.get(a);if(null!=e){var t=e.SRC,n=e.UPDATE,o=e.PUBLIC,l=e.CAPTION,s=e.LINKURL,p=e.INFOTEXT,d=e.WIDTH,c=e.HEIGHT;i[r]=[{id:t,update:n,public:o,titulo:l,linkurl:s,infoimagen:p,width:d,height:c}],r++}}),a(e,i,$(this),n)}})},imageSet:function(e,t,n,o){e.find("gallery").each(function(){var i=$(this).attr("name");if(Comun.htmlReplace(i)==t){var r=new Array,l=0,s=0;$(this).children().each(function(){var a=$(this).attr("id"),e=typesHash.get(a);if(null!=e&&s==o){var t=e.SRC,n=e.UPDATE,i=e.PUBLIC,p=e.CAPTION,d=e.LINKURL,c=e.INFOTEXT,m=e.WIDTH,u=e.HEIGHT,g=e.STOCK;r[l]=[{id:t,update:n,public:i,titulo:p,linkurl:d,infoimagen:c,width:m,height:u,stock:g}],l++}s++}),a(e,r,$(this),n,o)}})},imageNewSet:function(e,t,n){var o=Controller.Config.newsLoad(e),i=0;o.sort(Comun.arrayDateSort);for(var r=new Array,i=0,l=0,s=0;s<o.length-1;s++)if("video"!=o[s][0].type){if(l==n){var p=o[s][0].id.replace(".jpg",""),d=o[s][0].update,c=o[s][0].public,m=o[s][0].titulo,u=o[s][0].linkurl,g=o[s][0].infoimagen,f=o[s][0].width,v=o[s][0].height;r[i]=[{id:p,update:d,public:c,titulo:m,linkurl:u,infoimagen:g,width:f,height:v}],i++}l++}a(e,r,"",t,n)},newsSet:function(e,t,n){var o=new Array,i=0;e.find("img").each(function(){var a=$(this).attr("id"),e=typesHash.get(a);if(null!=e){var t=e.SRC,n=e.UPDATE,r=e.PUBLIC,l=e.CAPTION,s=e.LINKURL,p=e.INFOTEXT,d=e.WIDTH,c=e.HEIGHT,m=Comun.htmlReplace($(this).parent().attr("name")),u=Controller.Config.imagePathSet($(this),App.Config.separadorPathPanel);o[i]=[{id:t,update:n,public:r,titulo:l,linkurl:s,infoimagen:p,width:d,height:c,parentFolder:m,parentName:u}],i++}}),o.sort(Comun.arrayDateSort),a(e,o,"",n)}},Detail}()};