var Controller=function(){function t(t,a,e,i,r,n,h,o,l,s,c,u,d){this.ID=t,this.WIDTH=a,this.HEIGHT=e,this.CAPTION=i,this.SRC=r,this.LINKTEXT=n,this.LINKURL=h,this.INFOTEXT=o,this.FORMAT=l,this.STOCK=s,this.PRICE=c,this.UPDATE=u,this.PUBLIC=d}return{Photos:{load:function(a){var e=new Hashtable;return a.find("photos").each(function(){var a=0;$(this).children().each(function(){e.put($(this).attr("src").replace(".jpg",""),new t($(this).attr("src").replace(".jpg",""),$(this).attr("width"),$(this).attr("height"),$(this).attr("caption"),$(this).attr("src"),$(this).attr("linktext"),$(this).attr("linkurl"),$(this).attr("infotext"),$(this).attr("format"),$(this).attr("stock"),$(this).attr("price"),$(this).attr("update"),$(this).attr("public"))),a++})}),a.find("videos").each(function(){var a=0;$(this).children().each(function(){e.put($(this).attr("src").replace(".jpg",""),new t($(this).attr("src").replace(".jpg",""),$(this).attr("width"),$(this).attr("height"),$(this).attr("caption"),$(this).attr("src"),$(this).attr("linktext"),$(this).attr("linkurl"),$(this).attr("infotext"),$(this).attr("format"),$(this).attr("stock"),$(this).attr("price"),$(this).attr("update"),$(this).attr("public"))),a++})}),e}},Config:{newsLoad:function(t){var a=new Array,e=0;return t.find("img").each(function(){var t=$(this).attr("id"),i=typesHash.get(t);if(null!=i){var r=i.SRC,n=i.CAPTION,h=i.LINKURL,o=i.INFOTEXT,l=i.UPDATE,s=i.PUBLIC,c=Comun.htmlReplace($(this).parent().attr("name")),u=Controller.Config.pathImagenComponer($(this),App.Config.separadorPathPanel),d="imagen";a[e]=[{id:r,update:l,public:s,titulo:n,linkurl:h,infoimagen:o,parentFolder:c,parentName:u,type:d}],e++}}),t.find("vid").each(function(){var t=$(this).attr("id"),i=typesHash.get(t);if(null!=i){var r=i.SRC,n=i.CAPTION,h=i.LINKURL,o=i.INFOTEXT,l=i.UPDATE,s=i.PUBLIC,c=Comun.htmlReplace($(this).parent().attr("name")),u=Controller.Config.pathImagenComponer($(this),App.Config.separadorPathPanel),d="video";a[e]=[{id:r,update:l,public:s,titulo:n,linkurl:h,infoimagen:o,parentFolder:c,parentName:u,type:d}],e++}}),a},allLoad:function(t){var a=new Array,e=0;return t.find("config").each(function(){$(this).children().each(function(){var t=this;switch(t.nodeName){case"galleries":$(t).children().each(function(){var t=this;switch(t.nodeName){case"folder":var i=$(t).attr("src"),r=$(t).attr("name"),n=$(t).attr("update"),h=new Array,o=0;$(t).find("gallery").length>0&&$(t).children().each(function(){var t=this;if("gallery"==t.nodeName){var a=$(t).attr("src"),e=$(t).attr("name");h[o]={id:a,titulo:e,type:"thumb"},o++}}),a[e]=[{id:i,titulo:r,update:n,thumbs:h,type:"folderImages"}],e++;break;case"gallery":var i=$(t).attr("src"),r=$(t).attr("name"),n=$(t).attr("update");a[e]=[{id:i,titulo:r,update:n,type:"gallery"}],e++;break;case"multimedia":var i=$(t).attr("src"),r=$(t).attr("name"),n=$(t).attr("update");a[e]=[{id:i,titulo:r,update:n,type:"multimedia"}],e++}});break;case"folder":var i=$(t).attr("name"),r=$(t).attr("update"),n=new Array,h=0;$(t).find("section").length>0&&$(t).children().each(function(){var t=this;if("section"==t.nodeName){var a=$(t).attr("src"),e=$(t).attr("name");n[h]={id:a,titulo:e,type:"thumb"},h++}}),a[e]=[{titulo:i,update:r,thumbs:n,type:"folderText"}],e++;break;case"section":var i=$(t).attr("name"),r=$(t).attr("update");a[e]=[{titulo:i,update:r,type:"section"}],e++}})}),a},galleryLoad:function(t,a){var e=new Array,i=0;return t.find("gallery").each(function(){var t=$(this).attr("name");if(Comun.htmlReplace(t)==a){$(this).children().each(function(){var t=$(this).attr("id"),a=typesHash.get(t);if(null!=a){var r=a.SRC,n=a.CAPTION,h=a.LINKURL,o=a.INFOTEXT,l=a.UPDATE,s=a.PUBLIC,c=a.FORMAT,u=a.STOCK,d=a.PRICE,p="imagen";e[i]=[{id:r,update:l,public:s,titulo:n,linkurl:h,infoimagen:o,format:c,stock:u,price:d,type:p}],i++}})}}),e},galleryFind:function(t,a){var e="";return t.find("gallery").each(function(){var t=$(this).attr("name");Comun.htmlReplace(t)==a&&(e=$(this))}),e},folderLoad:function(t,a){var e=new Array,i=0;return t.find("folder").each(function(){var t=$(this).attr("name");Comun.htmlReplace(t)==a&&$(this).children().each(function(){var t=this;if("gallery"==t.nodeName){var a=$(this).attr("src"),r=$(this).attr("name"),n=$(this).attr("update"),h="gallery";e[i]=[{id:a,update:n,titulo:r,type:h}],i++}})}),e},folderFind:function(t,a){var e="";return t.find("folder").each(function(){var t=$(this).attr("name");Comun.htmlReplace(t)==a&&(e=$(this))}),e},multimediaLoad:function(t,a){var e=new Array,i=0;return t.find("multimedia").each(function(){var t=$(this).attr("name");if(Comun.htmlReplace(t)==a){$(this).children().each(function(){var t=$(this).attr("id"),a=typesHash.get(t);if(null!=a){var r=a.SRC,n=a.CAPTION,h=a.LINKURL,o=a.INFOTEXT,l=a.UPDATE,s=a.PUBLIC,c=a.FORMAT,u=a.STOCK,d=a.PRICE,p="video";e[i]=[{id:r,update:l,public:s,titulo:n,linkurl:h,infoimagen:o,format:c,stock:u,price:d,type:p}],i++}})}}),e},multimediaFind:function(t,a){var e="";return t.find("multimedia").each(function(){var t=$(this).attr("name");Comun.htmlReplace(t)==a&&(e=$(this))}),e},modalLoad:function(t,a){var e;return t.find("section").each(function(){var t=$(this).attr("name");if(Comun.htmlReplace(t)==a){var i=$(this).attr("name"),r=$(this).text(),n="section";e={titulo:i,texto:r,type:n}}}),e},pathImagenComponer:function(t,a){for(var e=t,i="",r=0;void 0!=e.parent().attr("name");)i=e.parent().attr("name")+(0!=r?a+i:""),r++,e=e.parent();return i},sloganLoad:function(t){var a;return t.find("slogan").each(function(){var t=$(this).text(),e="slogan";a={texto:t,type:e}}),a}}}}();