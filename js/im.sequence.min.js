$(window).ready(function(){View.Detail.prototype.Carousel.carouselNormalization()}),$(window).on("resize orientationchange",function(){var e=$("#carouselInner .carousel-item img");e.each(function(){View.Detail.prototype.Carousel.setHeight(this),View.Detail.prototype.Carousel.setMargin(this)}),View.Detail.prototype.Carousel.writeHeights()}),$("#carouselSlides").bind("slide.bs.carousel",function(e){View.Detail.prototype.Carousel.writeHeights()}),View.Detail.prototype={Carousel:function(){var e=function(e){return e.attr("height")/e.attr("width")},i=function(e){return e.attr("height")>e.attr("width")?"v":e.attr("width")>e.attr("height")?"h":"v"},t=function(){var e=$(".detail").height(),i=$("footer").height(),t=$(".navbar").height();$(".breadcrumb").height();return e-t-i};return Carousel={carouselNormalization:function(){$("#carouselInner .carousel-item img").one("load",function(){View.Detail.prototype.Carousel.setHeight(this),View.Detail.prototype.Carousel.setMargin(this)}).each(function(){try{this.complete&&$(this).load()}catch(e){}}),View.Detail.prototype.Carousel.writeHeights()},writeHeights:function(){if($("#banner-caroussel-top").empty(),1==App.Config.developer){var e=$("<ul>").appendTo("#banner-caroussel-top");$("<li>window.height: "+$(window).height()+"px</li>").appendTo(e),$("<li>detail.height: "+$(".detail").height()+"px</li>").appendTo(e),$("<li>carouselSlides.height: "+$("#carouselSlides").height()+"px</li>").appendTo(e),$("<li>carouselInner.height: "+$("#carouselInner").height()+"px</li>").appendTo(e),$("<li>carousel-item: "+$($(".carousel-item.active")[0]).height()+"px</li>").appendTo(e),$("<li>image.height (original): "+$($(".carousel-item.active img")[0]).attr("height")+"px</li>").appendTo(e),$("<li>image.height (processed): "+$($(".carousel-item.active img")[0]).css("height")+"</li>").appendTo(e),$("<li>image.width (original): "+$($(".carousel-item.active img")[0]).attr("width")+"px</li>").appendTo(e),$("<li>image.width (processed): "+$($(".carousel-item.active img")[0]).css("width")+"</li>").appendTo(e)}},setHeight:function(t){"h"==i($(t))&&$(t).attr("width")>=$(t.parentElement).width()&&$(t).css("height",$(t.parentElement).width()*e($(t))+"px")},setMargin:function(e){if($(".detail").height()<=$(window).height()){var i=t(),a=$(e.parentElement).height(),o=(i-a)/2;$(e).css("margin-top",o+"px")}else $(e).css("margin-top","0px")}},Carousel}()};